{"remainingRequest":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js!D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Register.vue","mtime":1712479330000},{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\babel.config.js","mtime":1712479330000},{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712479330000},{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1712479330000},{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712479330000},{"path":"D:\\HuaweiMoveData\\Users\\chen'j'h\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1712479330000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgZGF0YSgpIHsKICAgIGxldCB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WGjeasoei+k+WFpeWvhueggScpKTsKICAgICAgICAvLyBwYXNzd29yZCDmmK/ooajljZXkuIrnu5HlrprnmoTlrZfmrrUKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5yZWdpc3RlckZvcm0ucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIGxldCBjaGVja01vYmlsZSA9IChydWxlLCB2YWx1ZSwgY2IpID0+IHsKICAgICAgY29uc3QgcmVnTW9iaWxlID0gL14oMHw4NnwxNzk1MSk/KDEzWzAtOV18MTVbMDEyMzQ1Njc4OV18MTdbNjc4XXwxOFswLTldfDE0WzU3XSlbMC05XXs4fSQvOwogICAgICBpZiAocmVnTW9iaWxlLnRlc3QodmFsdWUpKSB7CiAgICAgICAgcmV0dXJuIGNiKCk7CiAgICAgIH0KICAgICAgY2IobmV3IEVycm9yKCfor7fovpPlhaXlkIjms5XnmoTmiYvmnLrlj7fnoIEnKSk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZ2VuZGVyOiAnMScsCiAgICAgIHJlZ2lzdGVyRm9ybTogewogICAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJywKICAgICAgICBwaG9uZU51bWJlcjogJycsCiAgICAgICAgc2V4OiAnJwogICAgICB9LAogICAgICByZWdpc3RlckZvcm1SdWxlczogewogICAgICAgIHVzZXJOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl55So5oi35ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMiwKICAgICAgICAgIG1heDogMjAsCiAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN56ew6ZW/5bqm5ZyoMuWIsDIw5Liq5a2X56ym5LmL6Ze0IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNiwKICAgICAgICAgIG1heDogMTYsCiAgICAgICAgICBtZXNzYWdlOiAi6ZW/5bqm5ZyoNuWIsDE25Liq5a2X56ym5LmL6Ze0IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGNvbmZpcm1QYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsCiAgICAgICAgICBtZXNzYWdlOiAi5Lik5qyh5a+G56CB6L6T5YWl5LiN5LiA6Ie0IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBob25lTnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+356CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tNb2JpbGUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVnaXN0ZXJGb3JtUmVmLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CiAgICAgICAgdGhpcy5yZWdpc3RlckZvcm0uc2V4ID0gdGhpcy5nZW5kZXIgPT09ICcxJzsKICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGE6IHJlcwogICAgICAgIH0gPSBhd2FpdCBheGlvcy5wb3N0KCdzeXNVc2VyL3JlZ2lzdGVyJywgSlNPTi5zdHJpbmdpZnkodGhpcy5yZWdpc3RlckZvcm0pKTsKICAgICAgICBpZiAocmVzLmNvZGUgIT09IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLms6jlhozlrozmiJDvvIEiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgdGhpcy4kcmVmcy5yZWdpc3RlckZvcm1SZWYucmVzZXRGaWVsZHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9XZWxjb21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3dlbGNvbWUnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","data","validatePass","rule","value","callback","Error","registerForm","password","checkMobile","cb","regMobile","test","gender","userName","confirmPassword","phoneNumber","sex","registerFormRules","required","message","trigger","min","max","validator","methods","register","$refs","registerFormRef","validate","valid","axios","defaults","headers","post","res","JSON","stringify","code","$message","error","msg","success","$router","push","resetFields","toWelcome"],"sources":["src/views/Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">  \n    <div>\n      <span></span>\n    </div>\n    <div class=\"register-header\">\n            <div class=\"register-top\"> \n              <b>注册影院会员</b>\n            </div>\n    </div>\n    <div class=\"register-body\">\n      <el-form class=\"register-form\" ref=\"registerFormRef\" :model=\"registerForm\" :rules=\"registerFormRules\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"userName\">\n          <el-input v-model=\"registerForm.userName\" placeholder=\"请输入用户名\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户密码\" prop=\"password\">\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请输入确认密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号码\" prop=\"phoneNumber\">\n          <el-input v-model=\"registerForm.phoneNumber\" type=\"text\" aria-placeholder=\"请输入手机号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio v-model=\"gender\" label=\"1\">男</el-radio>\n          <el-radio v-model=\"gender\" label=\"0\">女</el-radio>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"register\" style=\"font-size: 18px;\">\n             同意以下协议并注册</el-button>\n        </el-form-item>\n        <el-form-item id=\"protocal\">\n          <el-link type=\"primary\" style=\"line-height: 14px;\">《影院注册协议》</el-link>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Register\",\n  data() {\n    let validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n        // password 是表单上绑定的字段\n      } else if (value !== this.registerForm.password) {\n        callback(new Error('两次输入密码不一致!'))\n      } else {\n        callback()\n      }\n    }\n    let checkMobile = (rule, value, cb) => {\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\n      if (regMobile.test(value)){\n        return cb()\n      }\n      cb(new Error('请输入合法的手机号码'))\n    }\n    return {\n      gender: '1',\n      registerForm: {\n        userName: '',\n        password: '',\n        confirmPassword: '',\n        phoneNumber: '',\n        sex: ''\n      },\n      registerFormRules: {\n        userName: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\"},\n          { min: 2, max: 20, message: \"用户名称长度在2到20个字符之间\", trigger: \"blur\"}\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\"},\n          { min:6, max: 16, message: \"长度在6到16个字符之间\", trigger: \"blur\"}\n        ],\n        confirmPassword: [\n          { required: true, validator: validatePass, message: \"两次密码输入不一致\", trigger: \"blur\"},\n        ],\n        phoneNumber: [\n          { required: true, message: '请输入手机号码', trigger: 'blur' },\n          { validator: checkMobile, trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  methods: {\n    register() {\n      this.$refs.registerFormRef.validate(async valid => {\n        if(!valid) return\n        this.registerForm.sex = this.gender === '1'\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\n        const { data: res} = await axios.post('sysUser/register', JSON.stringify(this.registerForm));\n        if(res.code !== 200) return this.$message.error(res.msg);\n\n        this.$message.success(\"注册完成！\");\n        this.$router.push('/login')\n        this.$refs.registerFormRef.resetFields()\n      })\n    },\n    toWelcome() {\n      this.$router.push('/welcome')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container{\n  width: 100%;\n  height: 90%;\n  background-size: cover;\n  position: relative;\n  background-image: url(\"../assets/registerBg.jpg\");\n}\n\n\n.header{\n  height: 60px;\n  border-bottom: deepskyblue solid 2px;\n  padding-top: 100px;\n  padding-left: 500px;\n  padding-bottom: 0;\n  cursor: pointer;\n}\n\n.register-body{\n  text-align: center; \n  padding: 0 400px 0 400px;\n  background: linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5));\n\n}\n\n.register-form{\n  width: 40%;\n  margin-left: 25%;\n  margin-right: 5%;\n  font-size: 25px;\n}\n\n.register-top {\n  font-size: 28px;\n  text-align: center; /* 让文本居中 */\n  margin: 20px auto auto auto; /* 设置上下边距，并在水平方向上居中 */\n  background: linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5));\n\n}\n\n.register-header {\n  width: 100%; \n  text-align: center;\n  margin: 20px 0 0px 0;\n  background: linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5));\n\n}\n\n\n</style>\n"],"mappings":";;AAyCA;EACAA,IAAA;EACAC,KAAA;IACA,IAAAC,YAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;QACA;MACA,WAAAF,KAAA,UAAAG,YAAA,CAAAC,QAAA;QACAH,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA,IAAAI,WAAA,GAAAA,CAAAN,IAAA,EAAAC,KAAA,EAAAM,EAAA;MACA,MAAAC,SAAA;MACA,IAAAA,SAAA,CAAAC,IAAA,CAAAR,KAAA;QACA,OAAAM,EAAA;MACA;MACAA,EAAA,KAAAJ,KAAA;IACA;IACA;MACAO,MAAA;MACAN,YAAA;QACAO,QAAA;QACAN,QAAA;QACAO,eAAA;QACAC,WAAA;QACAC,GAAA;MACA;MACAC,iBAAA;QACAJ,QAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAb,QAAA,GACA;UAAAW,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,eAAA,GACA;UAAAI,QAAA;UAAAK,SAAA,EAAAtB,YAAA;UAAAkB,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,WAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAG,SAAA,EAAAf,WAAA;UAAAY,OAAA;QAAA;MAEA;IACA;EACA;EACAI,OAAA;IACAC,SAAA;MACA,KAAAC,KAAA,CAAAC,eAAA,CAAAC,QAAA,OAAAC,KAAA;QACA,KAAAA,KAAA;QACA,KAAAvB,YAAA,CAAAU,GAAA,QAAAJ,MAAA;QACAkB,KAAA,CAAAC,QAAA,CAAAC,OAAA,CAAAC,IAAA;QACA;UAAAjC,IAAA,EAAAkC;QAAA,UAAAJ,KAAA,CAAAG,IAAA,qBAAAE,IAAA,CAAAC,SAAA,MAAA9B,YAAA;QACA,IAAA4B,GAAA,CAAAG,IAAA,sBAAAC,QAAA,CAAAC,KAAA,CAAAL,GAAA,CAAAM,GAAA;QAEA,KAAAF,QAAA,CAAAG,OAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;QACA,KAAAjB,KAAA,CAAAC,eAAA,CAAAiB,WAAA;MACA;IACA;IACAC,UAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;IACA;EACA;AACA"}]}