{"remainingRequest":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Welcome.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Welcome.vue","mtime":1711783210437},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\babel.config.js","mtime":1651665518000},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688268005356},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1688268007045},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688268005356},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1688268007736}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV2VsY29tZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVG9rZW46ICIiLAogICAgICBjaW5lbWFJbmZvOiAiIiwKICAgICAgdXJsOiAiIiwKICAgICAgYWN0aXZlVXJsOiB0aGlzLiRyb3V0ZS5wYXRoLnN1YnN0cmluZygwLCB0aGlzLiRyb3V0ZS5wYXRoLmluZGV4T2YoIi8iLCAxKSA9PT0gLTEgPyB0aGlzLiRyb3V0ZS5wYXRoLmxlbmd0aCA6IHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpKSwKICAgICAgbWVudUxpc3Q6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogIummlumhtSIsCiAgICAgICAgcGF0aDogIi9ob21lIgogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbmFtZTogIuW9seeJhyIsCiAgICAgICAgcGF0aDogIi9tb3ZpZSIKICAgICAgfSwgewogICAgICAgIGlkOiAzLAogICAgICAgIG5hbWU6ICLmppzljZUiLAogICAgICAgIHBhdGg6ICIvcmFua2luZ0xpc3QiCiAgICAgIH0sIHsKICAgICAgICBpZDogNCwKICAgICAgICBuYW1lOiAi5YWz5LqOIiwKICAgICAgICBwYXRoOiAiL2Fib3V0VXMiCiAgICAgIH1dLAogICAgICAvL+aQnOe0ouWFs+mUruWtlwogICAgICBrdzogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDaW5lbWFJbmZvKCk7CiAgICB0aGlzLmlzVG9rZW4gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgIHZhciByZXMgPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSk7CiAgICBpZiAocmVzID09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCB1c2VyUGljdHVyZSA9IHJlcy51c2VyUGljdHVyZTsKICAgIGNvbnN0IHBpY3R1cmUgPSBKU09OLnBhcnNlKHVzZXJQaWN0dXJlKTsKICAgIGlmIChwaWN0dXJlID09PSBudWxsIHx8IHBpY3R1cmUubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICB0aGlzLnVybCA9IHRoaXMuZ2xvYmFsLmJhc2UgKyBwaWN0dXJlWzBdOwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSgpIHsKICAgICAgdGhpcy5hY3RpdmVVcmwgPSB0aGlzLiRyb3V0ZS5wYXRoLnN1YnN0cmluZygwLCB0aGlzLiRyb3V0ZS5wYXRoLmluZGV4T2YoIi8iLCAxKSA9PT0gLTEgPyB0aGlzLiRyb3V0ZS5wYXRoLmxlbmd0aCA6IHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldENpbmVtYUluZm8oKSB7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KCJzeXNDaW5lbWEiKS50aGVuKHJlc3AgPT4gewogICAgICAgIGlmIChyZXNwID09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBfdGhpcy5jaW5lbWFJbmZvID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIGlmIChlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fCBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IGUucmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0KGtleSwga2V5UGF0aCkgewogICAgICBjb25zb2xlLmxvZyhrZXksIGtleVBhdGgpOwogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgbGV0IHRtcCA9IHRoaXMua3c7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2VhcmNoL3NlYXJjaE1vdmllP2t3PSIgKyB0bXApOwogICAgICB0aGlzLmt3ID0gIiI7CiAgICB9LAogICAgaGFuZGxlQ29tbWFuZChjb21tYW5kKSB7CiAgICAgIGlmIChjb21tYW5kID09PSAibG9nb3V0IikgewogICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iICsgY29tbWFuZCk7CiAgICB9LAogICAgdG9XZWxjb21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3dlbGNvbWUiKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","data","isToken","cinemaInfo","url","activeUrl","$route","path","substring","indexOf","length","menuList","id","kw","created","getCinemaInfo","window","sessionStorage","getItem","res","JSON","parse","undefined","userPicture","picture","global","base","watch","methods","_this","axios","get","then","resp","catch","e","console","log","response","$message","showClose","message","type","duration","handleSelect","key","keyPath","search","tmp","$router","push","handleCommand","command","clear","toWelcome"],"sources":["src/views/Welcome.vue"],"sourcesContent":["<template>\n    <el-container>\n        <el-header>\n            <div class=\"header-inner\">\n                <a href=\"/welcome\" style=\"text-decoration: none\">\n                    <div\n                        style=\"color: black; font-size: 26px; margin-top: 20px\"\n                    >\n                        <!-- <img style=\"height: 30px; margin-bottom: -5px\"\n                            src=\"../assets/homeLogo.jpg\"/> -->\n                        南国影城\n                    </div>\n                </a>\n                <el-menu\n                    :default-active=\"activeUrl\"\n                    class=\"nav-menu\"\n                    mode=\"horizontal\"\n                    :router=\"true\"\n                    active-text-color=\"red\"\n                    text-color=\"#000000\"\n                >\n                    <el-menu-item\n                        :index=\"item.path\"\n                        v-for=\"item in menuList\"\n                        :key=\"item.id\"\n                        >{{ item.name }}</el-menu-item\n                    >\n                </el-menu>\n                <div class=\"searchContainer\">\n                    <el-input\n                        v-model=\"kw\"\n                        class=\"searchBar\"\n                        placeholder=\"搜索电影\"\n                    ></el-input>\n                    <el-button\n                        id=\"searchBtn\"\n                        type=\"danger\"\n                        circle\n                        @click=\"search\"\n                    >\n                      <i class=\"iconfont icon-r-find\" style=\"font-size: 18px;\"></i>\n                    </el-button>\n                </div>\n                <el-dropdown @command=\"handleCommand\">\n                    <span class=\"el-dropdown-link\">\n                        <el-avatar :src=\"url == '' ? require('@/assets/avatar.jpg') : url\" :size=\"50\">{{\n                            url === \"\" || url === null ? \"user\" : \"\"\n                        }}</el-avatar>\n                        <i\n                            class=\"el-icon-arrow-down el-icon--right icon-arrow\"\n                        ></i>\n                    </span>\n                    <el-dropdown-menu slot=\"dropdown\">\n                        <el-dropdown-item command=\"userMenu\" v-if=\"isToken\"\n                            >个人中心</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"logout\" v-if=\"isToken\"\n                            >退出</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"login\" v-if=\"!isToken\"\n                            >登录</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"register\" v-if=\"!isToken\"\n                            >注册账号</el-dropdown-item\n                        >\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </el-header>\n        <el-main>\n            <router-view></router-view>\n        </el-main>\n        <el-footer>\n            <div class=\"footer-mini\"></div>\n            <div class=\"footer\" style=\"padding-bottom: 15px\">\n            </div>\n            <el-backtop></el-backtop>\n        </el-footer>\n    </el-container>\n</template>\n\n<script>\nexport default {\n    name: \"Welcome\",\n    data() {\n        return {\n            isToken: \"\",\n            cinemaInfo: \"\",\n            url: \"\",\n            activeUrl: this.$route.path.substring(\n                0,\n                this.$route.path.indexOf(\"/\", 1) === -1\n                    ? this.$route.path.length\n                    : this.$route.path.indexOf(\"/\", 1)\n            ),\n            menuList: [\n                {\n                    id: 1,\n                    name: \"首页\",\n                    path: \"/home\",\n                },\n                {\n                    id: 2,\n                    name: \"影片\",\n                    path: \"/movie\",\n                },\n                {\n                    id: 3,\n                    name: \"榜单\",\n                    path: \"/rankingList\",\n                },\n                {\n                    id: 4,\n                    name: \"关于\",\n                    path: \"/aboutUs\",\n                },\n            ],\n            //搜索关键字\n            kw: \"\",\n        };\n    },\n    created() {\n        this.getCinemaInfo();\n        this.isToken = window.sessionStorage.getItem(\"token\");\n        var res = JSON.parse(\n            window.sessionStorage.getItem(\"loginUser\")\n        )\n        if(res == undefined) {\n            return;\n        }\n        const userPicture = res.userPicture;\n        const picture = JSON.parse(userPicture);\n        if (picture === null || picture.length === 0) return;\n        this.url = this.global.base + picture[0];\n    },\n    watch: {\n        $route() {\n            this.activeUrl = this.$route.path.substring(\n                0,\n                this.$route.path.indexOf(\"/\", 1) === -1\n                    ? this.$route.path.length\n                    : this.$route.path.indexOf(\"/\", 1)\n            );\n        },\n    },\n    methods: {\n        async getCinemaInfo() {\n            const _this = this;\n            await axios\n                .get(\"sysCinema\")\n                .then((resp) => {\n                    if(resp == undefined) {\n                        return;\n                    }\n                    _this.cinemaInfo = resp.data.data;\n                })\n                .catch((e) => {\n                    console.log(e);\n                    if (\n                        e.response == undefined ||\n                        e.response.data == undefined\n                    ) {\n                        this.$message({\n                            showClose: true,\n                            message: e,\n                            type: \"error\",\n                            duration: 5000,\n                        });\n                    } else {\n                        this.$message({\n                            showClose: true,\n                            message: e.response.data,\n                            type: \"error\",\n                            duration: 5000,\n                        });\n                    }\n                });\n        },\n        handleSelect(key, keyPath) {\n            console.log(key, keyPath);\n        },\n        search() {\n            let tmp = this.kw;\n            this.$router.push(\"/search/searchMovie?kw=\" + tmp);\n            this.kw = \"\";\n        },\n        handleCommand(command) {\n            if (command === \"logout\") {\n                window.sessionStorage.clear();\n                return this.$router.push(\"/login\");\n            }\n            this.$router.push(\"/\" + command);\n        },\n        toWelcome() {\n            this.$router.push(\"/welcome\");\n        },\n    },\n};\n</script>\n\n<style scoped>\n.el-header {\n    height: 80px !important;\n    border-bottom: 1px solid #e6e6e6;\n}\n\n.header-inner {\n    width: 75%;\n    margin: 0 12.5%;\n    display: flex;\n}\n\n.logo {\n    height: 80px;\n    width: 200px;\n}\n\n.nav-menu {\n    border-bottom: 0px solid #eee !important;\n    height: 60px;\n    margin: 9px auto;\n}\n\n.el-menu-item {\n    font-size: 20px;\n}\n\n.el-menu-item:hover {\n    color: red !important;\n}\n\n.searchContainer {\n    padding: 20px 0;\n    display: flex;\n}\n\n.searchBar >>> input {\n    border-radius: 50px;\n}\n\n#searchBtn {\n    transform: translate(-100%, 0);\n}\n\n.el-dropdown-link {\n    width: 70px;\n    margin: 15px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.icon-arrow {\n    transition: all 0.2s ease-in-out;\n    -webkit-transition: all 0.2s ease-in-out;\n    -moz-transition: all 0.2s ease-in-out;\n    -o-transition: all 0.2s ease-in-out;\n}\n\n.el-dropdown-link:hover .icon-arrow {\n    /* 定义动画的状态 */\n    -webkit-transform: rotate(180deg) scale(1);\n    -moz-transform: rotate(180deg) scale(1);\n    -o-transform: rotate(180deg) scale(1);\n    -transform: rotate(180deg) scale(1);\n}\n\n.footer-mini {\n    border-top: 1px solid #eee;\n    padding-top: 20px;\n    text-align: center;\n}\n\n.footer {\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n}\n\n.el-main {\n    padding: 0px;\n}\n</style>\n"],"mappings":";AAkFA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,UAAA;MACAC,GAAA;MACAC,SAAA,OAAAC,MAAA,CAAAC,IAAA,CAAAC,SAAA,CACA,GACA,KAAAF,MAAA,CAAAC,IAAA,CAAAE,OAAA,kBACA,KAAAH,MAAA,CAAAC,IAAA,CAAAG,MAAA,GACA,KAAAJ,MAAA,CAAAC,IAAA,CAAAE,OAAA,QACA;MACAE,QAAA,GACA;QACAC,EAAA;QACAZ,IAAA;QACAO,IAAA;MACA,GACA;QACAK,EAAA;QACAZ,IAAA;QACAO,IAAA;MACA,GACA;QACAK,EAAA;QACAZ,IAAA;QACAO,IAAA;MACA,GACA;QACAK,EAAA;QACAZ,IAAA;QACAO,IAAA;MACA,EACA;MACA;MACAM,EAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,aAAA;IACA,KAAAb,OAAA,GAAAc,MAAA,CAAAC,cAAA,CAAAC,OAAA;IACA,IAAAC,GAAA,GAAAC,IAAA,CAAAC,KAAA,CACAL,MAAA,CAAAC,cAAA,CAAAC,OAAA,aACA;IACA,IAAAC,GAAA,IAAAG,SAAA;MACA;IACA;IACA,MAAAC,WAAA,GAAAJ,GAAA,CAAAI,WAAA;IACA,MAAAC,OAAA,GAAAJ,IAAA,CAAAC,KAAA,CAAAE,WAAA;IACA,IAAAC,OAAA,aAAAA,OAAA,CAAAd,MAAA;IACA,KAAAN,GAAA,QAAAqB,MAAA,CAAAC,IAAA,GAAAF,OAAA;EACA;EACAG,KAAA;IACArB,OAAA;MACA,KAAAD,SAAA,QAAAC,MAAA,CAAAC,IAAA,CAAAC,SAAA,CACA,GACA,KAAAF,MAAA,CAAAC,IAAA,CAAAE,OAAA,kBACA,KAAAH,MAAA,CAAAC,IAAA,CAAAG,MAAA,GACA,KAAAJ,MAAA,CAAAC,IAAA,CAAAE,OAAA,QACA;IACA;EACA;EACAmB,OAAA;IACA,MAAAb,cAAA;MACA,MAAAc,KAAA;MACA,MAAAC,KAAA,CACAC,GAAA,cACAC,IAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,IAAAX,SAAA;UACA;QACA;QACAO,KAAA,CAAA1B,UAAA,GAAA8B,IAAA,CAAAhC,IAAA,CAAAA,IAAA;MACA,GACAiC,KAAA,CAAAC,CAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,CAAA;QACA,IACAA,CAAA,CAAAG,QAAA,IAAAhB,SAAA,IACAa,CAAA,CAAAG,QAAA,CAAArC,IAAA,IAAAqB,SAAA,EACA;UACA,KAAAiB,QAAA;YACAC,SAAA;YACAC,OAAA,EAAAN,CAAA;YACAO,IAAA;YACAC,QAAA;UACA;QACA;UACA,KAAAJ,QAAA;YACAC,SAAA;YACAC,OAAA,EAAAN,CAAA,CAAAG,QAAA,CAAArC,IAAA;YACAyC,IAAA;YACAC,QAAA;UACA;QACA;MACA;IACA;IACAC,aAAAC,GAAA,EAAAC,OAAA;MACAV,OAAA,CAAAC,GAAA,CAAAQ,GAAA,EAAAC,OAAA;IACA;IACAC,OAAA;MACA,IAAAC,GAAA,QAAAnC,EAAA;MACA,KAAAoC,OAAA,CAAAC,IAAA,6BAAAF,GAAA;MACA,KAAAnC,EAAA;IACA;IACAsC,cAAAC,OAAA;MACA,IAAAA,OAAA;QACApC,MAAA,CAAAC,cAAA,CAAAoC,KAAA;QACA,YAAAJ,OAAA,CAAAC,IAAA;MACA;MACA,KAAAD,OAAA,CAAAC,IAAA,OAAAE,OAAA;IACA;IACAE,UAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;IACA;EACA;AACA"}]}