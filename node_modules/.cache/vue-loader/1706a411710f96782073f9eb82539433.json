{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\src\\views\\Register.vue?vue&type=style&index=0&id=63ae9146&scoped=true&lang=css&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\src\\views\\Register.vue","mtime":1688394478932},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1688268006196},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1688268008402},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1688268007038},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688268005356},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1688268007736}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5yZWdpc3Rlci1jb250YWluZXJ7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CgouaGVhZGVyewogIGhlaWdodDogNjBweDsKICBib3JkZXItYm90dG9tOiBkZWVwc2t5Ymx1ZSBzb2xpZCAycHg7CiAgcGFkZGluZy10b3A6IDZweDsKICBwYWRkaW5nLWxlZnQ6IDUwMHB4OwogIHBhZGRpbmctYm90dG9tOiAwOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLnJlZ2lzdGVyLWJvZHl7CiAgLyogdGV4dC1hbGlnbjogY2VudGVyOyAqLwogIHBhZGRpbmc6IDAgNDAwcHggMCA0MDBweDsKfQoKLnJlZ2lzdGVyLWZvcm17CiAgLyogd2lkdGg6IDQwJTsKICBtYXJnaW4tbGVmdDogMjUlOwogIG1hcmdpbi1yaWdodDogNSU7ICovCn0KCi5mb290ZXItbWluaXsKICBib3JkZXItdG9wOiAxcHggc29saWQgI0VFRTsKICBwYWRkaW5nLXRvcDogMjBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5mb290ZXJ7CiAgbWFyZ2luLXRvcDogMjBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";AA+GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div style=\"width: 100%; text-align: center;\">\n      \n      <h1>注册新用户</h1>\n    </div>\n    <div class=\"register-body\">\n      \n      <el-form class=\"register-form\" ref=\"registerFormRef\" :model=\"registerForm\" :rules=\"registerFormRules\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"userName\">\n          <el-input v-model=\"registerForm.userName\" placeholder=\"请输入用户名\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户密码\" prop=\"password\">\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请输入确认密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号码\" prop=\"phoneNumber\">\n          <el-input v-model=\"registerForm.phoneNumber\" type=\"text\" aria-placeholder=\"请输入手机号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio v-model=\"gender\" label=\"1\">男</el-radio>\n          <el-radio v-model=\"gender\" label=\"0\">女</el-radio>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"register\">同意以下协议并注册</el-button>\n        </el-form-item>\n        <el-form-item id=\"protocal\">\n          <el-link type=\"primary\" style=\"line-height: 14px;\">《影院注册协议》</el-link>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"footer-mini\"></div>\n    <div class=\"footer\">\n      Copyright©忧伤大白兔\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Register\",\n  data() {\n    let validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n        // password 是表单上绑定的字段\n      } else if (value !== this.registerForm.password) {\n        callback(new Error('两次输入密码不一致!'))\n      } else {\n        callback()\n      }\n    }\n    let checkMobile = (rule, value, cb) => {\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\n      if (regMobile.test(value)){\n        return cb()\n      }\n      cb(new Error('请输入合法的手机号码'))\n    }\n    return {\n      gender: '1',\n      registerForm: {\n        userName: '',\n        password: '',\n        confirmPassword: '',\n        phoneNumber: '',\n        sex: ''\n      },\n      registerFormRules: {\n        userName: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\"},\n          { min: 2, max: 20, message: \"用户名称长度在2到20个字符之间\", trigger: \"blur\"}\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\"},\n          { min:6, max: 16, message: \"长度在6到16个字符之间\", trigger: \"blur\"}\n        ],\n        confirmPassword: [\n          { required: true, validator: validatePass, message: \"两次密码输入不一致\", trigger: \"blur\"},\n        ],\n        phoneNumber: [\n          { required: true, message: '请输入手机号码', trigger: 'blur' },\n          { validator: checkMobile, trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  methods: {\n    register() {\n      this.$refs.registerFormRef.validate(async valid => {\n        if(!valid) return\n        this.registerForm.sex = this.gender === '1'\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\n        const { data: res} = await axios.post('sysUser/register', JSON.stringify(this.registerForm));\n        if(res.code !== 200) return this.$message.error(res.msg);\n\n        this.$message.success(\"注册完成！\");\n        this.$router.push('/login')\n        this.$refs.registerFormRef.resetFields()\n      })\n    },\n    toWelcome() {\n      this.$router.push('/welcome')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container{\n  width: 100%;\n  height: 100%;\n}\n\n.header{\n  height: 60px;\n  border-bottom: deepskyblue solid 2px;\n  padding-top: 6px;\n  padding-left: 500px;\n  padding-bottom: 0;\n  cursor: pointer;\n}\n\n.register-body{\n  /* text-align: center; */\n  padding: 0 400px 0 400px;\n}\n\n.register-form{\n  /* width: 40%;\n  margin-left: 25%;\n  margin-right: 5%; */\n}\n\n.footer-mini{\n  border-top: 1px solid #EEE;\n  padding-top: 20px;\n  text-align: center;\n}\n\n.footer{\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}