{"remainingRequest":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Welcome.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\src\\views\\Welcome.vue","mtime":1712458016280},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688268005356},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1688268007045},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688268005356},{"path":"C:\\Users\\axelc\\Desktop\\CinemaManager\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1688268007736}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJXZWxjb21lIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNUb2tlbjogIiIsCiAgICAgICAgICAgIGNpbmVtYUluZm86ICIiLAogICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICBhY3RpdmVVcmw6IHRoaXMuJHJvdXRlLnBhdGguc3Vic3RyaW5nKAogICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpID09PSAtMQogICAgICAgICAgICAgICAgICAgID8gdGhpcy4kcm91dGUucGF0aC5sZW5ndGgKICAgICAgICAgICAgICAgICAgICA6IHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG1lbnVMaXN0OiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IDEsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogIummlumhtSIsCiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9ob21lIiwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IDIsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuW9seeJhyIsCiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9tb3ZpZSIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlkOiAzLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICLmppzljZUiLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICIvcmFua2luZ0xpc3QiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZDogNCwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5YWz5LqOIiwKICAgICAgICAgICAgICAgICAgICBwYXRoOiAiL2Fib3V0VXMiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgLy/mkJzntKLlhbPplK7lrZcKICAgICAgICAgICAga3c6ICIiLAogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldENpbmVtYUluZm8oKTsKICAgICAgICB0aGlzLmlzVG9rZW4gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICB2YXIgcmVzID0gSlNPTi5wYXJzZSgKICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpCiAgICAgICAgKQogICAgICAgIGlmKHJlcyA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCB1c2VyUGljdHVyZSA9IHJlcy51c2VyUGljdHVyZTsKICAgICAgICBjb25zdCBwaWN0dXJlID0gSlNPTi5wYXJzZSh1c2VyUGljdHVyZSk7CiAgICAgICAgaWYgKHBpY3R1cmUgPT09IG51bGwgfHwgcGljdHVyZS5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICB0aGlzLnVybCA9IHRoaXMuZ2xvYmFsLmJhc2UgKyBwaWN0dXJlWzBdOwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJHJvdXRlKCkgewogICAgICAgICAgICB0aGlzLmFjdGl2ZVVybCA9IHRoaXMuJHJvdXRlLnBhdGguc3Vic3RyaW5nKAogICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpID09PSAtMQogICAgICAgICAgICAgICAgICAgID8gdGhpcy4kcm91dGUucGF0aC5sZW5ndGgKICAgICAgICAgICAgICAgICAgICA6IHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiLyIsIDEpCiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0Q2luZW1hSW5mbygpIHsKICAgICAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAgICAgLmdldCgic3lzQ2luZW1hIikKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaW5lbWFJbmZvID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fAogICAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkCiAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnJlc3BvbnNlLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlU2VsZWN0KGtleSwga2V5UGF0aCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhrZXksIGtleVBhdGgpOwogICAgICAgIH0sCiAgICAgICAgc2VhcmNoKCkgewogICAgICAgICAgICBsZXQgdG1wID0gdGhpcy5rdzsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zZWFyY2gvc2VhcmNoTW92aWU/a3c9IiArIHRtcCk7CiAgICAgICAgICAgIHRoaXMua3cgPSAiIjsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgewogICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gImxvZ291dCIpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIgKyBjb21tYW5kKTsKICAgICAgICB9LAogICAgICAgIHRvV2VsY29tZSgpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi93ZWxjb21lIik7CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["Welcome.vue"],"names":[],"mappings":";AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Welcome.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <el-container>\n        <el-header>\n            <div class=\"header-inner\">\n                <a href=\"/welcome\" style=\"text-decoration: none\">\n                    <div class=\"el-icon-orange\" style=\"color: black; font-size: 26px; margin-top: 20px\"\n                            >\n                        南国影城\n                    </div>\n                </a>\n                <el-menu\n                    :default-active=\"activeUrl\"\n                    class=\"nav-menu\"\n                    mode=\"horizontal\"\n                    :router=\"true\"\n                    active-text-color=\"red\"\n                    text-color=\"#000000\">\n                    <el-menu-item\n                        :index=\"item.path\"\n                        v-for=\"item in menuList\"\n                        :key=\"item.id\"\n                        >{{ item.name }}</el-menu-item>\n                </el-menu>\n                <div class=\"searchContainer\">\n                    <el-input\n                        v-model=\"kw\"\n                        class=\"searchBar\"\n                        placeholder=\"搜索电影\"\n                    ></el-input>\n                    <el-button\n                        id=\"searchBtn\"\n                        type=\"danger\"\n                        circle\n                        @click=\"search\"\n                    >\n                      <i class=\"iconfont icon-r-find\" style=\"font-size: 18px;\"></i>\n                    </el-button>\n                </div>\n                <el-dropdown @command=\"handleCommand\">\n                    <span class=\"el-dropdown-link\">\n                        <el-avatar :src=\"url == '' ? require('@/assets/avatar.jpg') : url\" :size=\"50\">{{\n                            url === \"\" || url === null ? \"user\" : \"\"\n                        }}</el-avatar>\n                        <i\n                            class=\"el-icon-arrow-down el-icon--right icon-arrow\"\n                        ></i>\n                    </span>\n                    <el-dropdown-menu slot=\"dropdown\">\n                        <el-dropdown-item command=\"userMenu\" v-if=\"isToken\"\n                            >个人中心</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"logout\" v-if=\"isToken\"\n                            >退出</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"login\" v-if=\"!isToken\"\n                            >登录</el-dropdown-item\n                        >\n                        <el-dropdown-item command=\"register\" v-if=\"!isToken\"\n                            >注册账号</el-dropdown-item\n                        >\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </el-header>\n        <el-main>\n            <router-view></router-view>\n        </el-main>\n        <el-footer>\n            <div class=\"footer-mini\"></div>\n            <div class=\"footer\" style=\"padding-bottom: 15px\">\n            </div>\n            <el-backtop></el-backtop>\n        </el-footer>\n    </el-container>\n</template>\n\n<script>\nexport default {\n    name: \"Welcome\",\n    data() {\n        return {\n            isToken: \"\",\n            cinemaInfo: \"\",\n            url: \"\",\n            activeUrl: this.$route.path.substring(\n                0,\n                this.$route.path.indexOf(\"/\", 1) === -1\n                    ? this.$route.path.length\n                    : this.$route.path.indexOf(\"/\", 1)\n            ),\n            menuList: [\n                {\n                    id: 1,\n                    name: \"首页\",\n                    path: \"/home\",\n                },\n                {\n                    id: 2,\n                    name: \"影片\",\n                    path: \"/movie\",\n                },\n                {\n                    id: 3,\n                    name: \"榜单\",\n                    path: \"/rankingList\",\n                },\n                {\n                    id: 4,\n                    name: \"关于\",\n                    path: \"/aboutUs\",\n                },\n            ],\n            //搜索关键字\n            kw: \"\",\n        };\n    },\n    created() {\n        this.getCinemaInfo();\n        this.isToken = window.sessionStorage.getItem(\"token\");\n        var res = JSON.parse(\n            window.sessionStorage.getItem(\"loginUser\")\n        )\n        if(res == undefined) {\n            return;\n        }\n        const userPicture = res.userPicture;\n        const picture = JSON.parse(userPicture);\n        if (picture === null || picture.length === 0) return;\n        this.url = this.global.base + picture[0];\n    },\n    watch: {\n        $route() {\n            this.activeUrl = this.$route.path.substring(\n                0,\n                this.$route.path.indexOf(\"/\", 1) === -1\n                    ? this.$route.path.length\n                    : this.$route.path.indexOf(\"/\", 1)\n            );\n        },\n    },\n    methods: {\n        async getCinemaInfo() {\n            const _this = this;\n            await axios\n                .get(\"sysCinema\")\n                .then((resp) => {\n                    if(resp == undefined) {\n                        return;\n                    }\n                    _this.cinemaInfo = resp.data.data;\n                })\n                .catch((e) => {\n                    console.log(e);\n                    if (\n                        e.response == undefined ||\n                        e.response.data == undefined\n                    ) {\n                        this.$message({\n                            showClose: true,\n                            message: e,\n                            type: \"error\",\n                            duration: 5000,\n                        });\n                    } else {\n                        this.$message({\n                            showClose: true,\n                            message: e.response.data,\n                            type: \"error\",\n                            duration: 5000,\n                        });\n                    }\n                });\n        },\n        handleSelect(key, keyPath) {\n            console.log(key, keyPath);\n        },\n        search() {\n            let tmp = this.kw;\n            this.$router.push(\"/search/searchMovie?kw=\" + tmp);\n            this.kw = \"\";\n        },\n        handleCommand(command) {\n            if (command === \"logout\") {\n                window.sessionStorage.clear();\n                return this.$router.push(\"/login\");\n            }\n            this.$router.push(\"/\" + command);\n        },\n        toWelcome() {\n            this.$router.push(\"/welcome\");\n        },\n    },\n};\n</script>\n\n<style scoped>\n.el-header {\n    height: 80px !important;\n    border-bottom: 1px solid #e6e6e6;\n}\n\n.header-inner {\n    width: 75%;\n    margin: 0 12.5%;\n    display: flex;\n}\n\n.logo {\n    height: 80px;\n    width: 200px;\n}\n\n.nav-menu {\n    border-bottom: 0px solid #eee !important;\n    height: 60px;\n    margin: 9px auto;\n}\n\n.el-menu-item {\n    font-size: 20px;\n}\n\n.el-menu-item:hover {\n    color: red !important;\n}\n\n.searchContainer {\n    padding: 20px 0;\n    display: flex;\n}\n\n.searchBar >>> input {\n    border-radius: 50px;\n}\n\n#searchBtn {\n    transform: translate(-100%, 0);\n}\n\n.el-dropdown-link {\n    width: 70px;\n    margin: 15px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.icon-arrow {\n    transition: all 0.2s ease-in-out;\n    -webkit-transition: all 0.2s ease-in-out;\n    -moz-transition: all 0.2s ease-in-out;\n    -o-transition: all 0.2s ease-in-out;\n}\n\n.el-dropdown-link:hover .icon-arrow {\n    /* 定义动画的状态 */\n    -webkit-transform: rotate(180deg) scale(1);\n    -moz-transform: rotate(180deg) scale(1);\n    -o-transform: rotate(180deg) scale(1);\n    -transform: rotate(180deg) scale(1);\n}\n\n.footer-mini {\n    border-top: 1px solid #eee;\n    padding-top: 20px;\n    text-align: center;\n}\n\n.footer {\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n}\n\n.el-main {\n    padding: 0px;\n}\n</style>\n"]}]}